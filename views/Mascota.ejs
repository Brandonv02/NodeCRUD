<!DOCTYPE html>
<html lang="en">
<head>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="container">

<header>
  
</header>

<main>

  <form action="Mascotas" method="post">
    <div class="form-group">
      <label for="text">ID</label>
      <input type="text" class="form-control" name="id" >
    </div>
    <div class="form-group">
      <label for="text">Nombre</label>
      <input type="text" class="form-control" name="name" >
    </div>
    <div class="form-group">
      <label for="text">Raza</label>
      <input type="text" class="form-control" name="raza" >
    </div>
    <button type="submit"  class="btn btn-primary">Guardar</button>
    
  </form>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Nombre</th>
        <th scope="col">Raza</th>
        <th scope="col">Operacion</th>
      </tr>
    </thead>
    <tbody>
      <% listado.forEach(function(masc){ %>
        <tr>
          <td scope="row"><%=masc.id%></td>
          <td><%=masc.name%></td>
          <td><%=masc.raza%></td>
          <td><a name="delete" id="delet" href="MascotasDelete/<%=masc.id%>" class="btn btn-secondary">Eliminar</a></td>
          <td><a name="update" type="button" onclick="llenarCampos(`<%=masc.id%>`,`<%=masc.name%>`,`<%=masc.raza%>`)" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">Actualizar</a></td>  
        </tr>
        <%})%>
    </tbody>
  </table>

  <!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Actualizar</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <form action="MascotasUpdate" method="post">
          <div class="form-group">
            <label for="text">ID</label>
            <input type="text" class="form-control" readonly name="id" id="id">
          </div>
          <div class="form-group">
            <label for="text">Nombre</label>
            <input type="text" class="form-control" name="name" id="name">
          </div>
          <div class="form-group">
            <label for="text">Raza</label>
            <input type="text" class="form-control" name="raza" id="raza">
          </div>
          
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
        <button type="submit"  class="btn btn-primary">Guardar</button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </form>

    </div>
  </div>
</div>

  
</main>

<footer>
  
</footer>
<script>
  function llenarCampos(v1,v2,v3){
    let id = v1
    let name= v2
    let raza = v3
    
    document.getElementById("id").value = v1
    document.getElementById("name").value = v2
    document.getElementById("raza").value = v3
  }
  
</script>
</body>
</html>